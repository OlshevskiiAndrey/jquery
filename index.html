<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>List</title>
    <style>
        .active {
            background-color: yellow;
            color: blue;
        }
        
        ul,
        li,
        ul {
            background-color: white;
            color: black;
        }
    </style>
</head>

<body>

    <ul>
        <li>li1
            <ul>
                <li>sub li1
                    <ul>
                        <li class="active">child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li2
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li3
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li4
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li5
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>li2
            <ul>
                <li>sub li1
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li2
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li3
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li4
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li5
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>li3
            <ul>
                <li>sub li1
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li2
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li3
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li4
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li5
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>li4
            <ul>
                <li>sub li1
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li2
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li3
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li4
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li5
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>li5
            <ul>
                <li>sub li1
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li2
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li3
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li4
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
                <li>sub li5
                    <ul>
                        <li>child1</li>
                        <li>child2</li>
                        <li>child3</li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>

    <script src="jquery-3.0.0.min.js"></script>
    <script>
        $(function () {
            window.focus();
            $(window).click('focus', function () {
                console.log('focus!');

                $('body').on('keydown', function (event) {
                    if (event.which == 37) {
                        var up = function () {
                            var el = $('.active'),
                                parent = el.parent().parent('li');
                            if (parent.length > 0) {
                                el.removeClass('active');
                                parent.addClass('active');
                            }
                        }
                        up();
                    }

                    if (event.which == 39) {
                        var down = function () {
                            var el = $('.active'),
                                children = el.children().children('li').first();
                            if (children.length > 0) {
                                el.removeClass('active');
                                children.addClass('active');
                            }
                        }
                        down();
                    }

                    if (event.which == 40) {
                        var next = function () {
                            var el = $('.active'),
                                nextElement = el.next('li');
                            if (nextElement.length > 0) {
                                el.removeClass('active');
                                nextElement.addClass('active');
                            }
                        }
                        next();
                    }


                    if (event.which == 38) {
                        var prev = function () {
                            var el = $('.active'),
                                prevElement = el.prev('li');
                            if (prevElement.length > 0) {
                                el.removeClass('active');
                                prevElement.addClass('active');
                            }
                        }
                        prev();
                    }

                })
            })
        });
    </script>

</body>

< /html>
